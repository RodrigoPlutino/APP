{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rodrigo\\\\Desktop\\\\APPJS\\\\my-app\\\\src\\\\components\\\\ItemCartAside.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { orderContext } from \"./CartContext\";\nimport { getFirestore } from '../Firebase/Firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction ItemCartAside() {\n  _s();\n\n  const order = useContext(orderContext);\n  const [buyer, setBuyer] = useState({});\n  const [pedidos, setPedidos] = useState();\n\n  function sendBuy(pedidos) {\n    const db = getFirestore();\n    const orders = db.collection(\"orders\");\n    orders.add(pedidos).then(({\n      id\n    }) => {\n      console.log(\"se registro\");\n    }).catch(e => {\n      console.log(e);\n    }).finally(console.log(\"proceso finalizado\"));\n  }\n\n  function getBuyer(event) {\n    let temp = { ...buyer\n    };\n\n    if (event.target.attributes.placeholder.nodeValue === \"nombre\") {\n      let nombre = event.target.value;\n      temp.name = nombre;\n    } else if (event.target.attributes.placeholder.nodeValue === \"apellido\") {\n      let apellido = event.target.value;\n      temp.surname = apellido;\n    } else {\n      let telefono = event.target.value;\n      temp.phone = telefono;\n    }\n\n    setBuyer(temp);\n  }\n\n  useEffect(() => {\n    setPedidos({\n      buyer: buyer,\n      orders: order\n    });\n  }, [buyer, order]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: order.length >= 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"carrito\",\n        children: [order.map((item, i) => {\n          return /*#__PURE__*/_jsxDEV(ItemCart, {\n            index: i,\n            image: item.image,\n            id: item.id,\n            nombre: item.nombre,\n            precio: item.precio,\n            cantidad: item.cantidad,\n            total: item.precio * item.cantidad\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 19\n          }, this);\n        }), \"              \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"carrito\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"nombre\",\n          onChange: getBuyer,\n          className: \"formu\",\n          requiered: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"apellido\",\n          onChange: getBuyer,\n          className: \"formu\",\n          requiered: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"cellPhone\",\n          onChange: getBuyer,\n          className: \"formu\",\n          requiered: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }, this), !buyer.name || !buyer.surname || !buyer.phone ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => sendBuy(pedidos),\n        disabled: true,\n        children: \"Finalizar compra\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => sendBuy(pedidos),\n        children: \"Finalizar compra\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        id: \"title__cart\",\n        children: \"El carro se encuentra vac\\xEDo!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"nav__links\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/Products\",\n          children: \"ir a productos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(ItemCartAside, \"AqY1L1WJDLhj5rFlExUesLe7xtM=\");\n\n_c = ItemCartAside;\nexport default ItemCartAside;\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemCartAside\");","map":{"version":3,"sources":["C:/Users/Rodrigo/Desktop/APPJS/my-app/src/components/ItemCartAside.js"],"names":["React","useState","useContext","useEffect","orderContext","getFirestore","ItemCartAside","order","buyer","setBuyer","pedidos","setPedidos","sendBuy","db","orders","collection","add","then","id","console","log","catch","e","finally","getBuyer","event","temp","target","attributes","placeholder","nodeValue","nombre","value","name","apellido","surname","telefono","phone","length","map","item","i","image","precio","cantidad"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport { orderContext } from \"./CartContext\";\r\nimport {getFirestore} from '../Firebase/Firebase'\r\n\r\nfunction ItemCartAside() {\r\n    const order = useContext(orderContext);\r\n    const [buyer, setBuyer] = useState({});\r\n    const [pedidos, setPedidos] = useState();\r\n  \r\n    function sendBuy(pedidos) {\r\n      const db = getFirestore();\r\n      const orders = db.collection(\"orders\");\r\n      orders\r\n        .add(pedidos)\r\n        .then(({ id }) => {\r\n          console.log(\"se registro\");\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        })\r\n        .finally(console.log(\"proceso finalizado\"));\r\n    }\r\n  \r\n    function getBuyer(event) {\r\n      let temp = { ...buyer };\r\n      if (event.target.attributes.placeholder.nodeValue === \"nombre\") {\r\n        let nombre = event.target.value;\r\n        temp.name = nombre;\r\n      } else if (event.target.attributes.placeholder.nodeValue === \"apellido\") {\r\n        let apellido = event.target.value;\r\n        temp.surname = apellido;\r\n      } else {\r\n        let telefono = event.target.value;\r\n        temp.phone = telefono;\r\n      }\r\n      setBuyer(temp);\r\n    }\r\n  \r\n    useEffect(() => {\r\n      setPedidos({ buyer: buyer, orders: order });\r\n    }, [buyer, order]);\r\n\r\n    return (\r\n        <>\r\n          {order.length >= 1 ? (\r\n            <div>\r\n            <div className=\"carrito\">\r\n              {order.map((item, i) => {\r\n                return (\r\n                  <ItemCart\r\n                    key={i}\r\n                    index={i}\r\n                    image={item.image}\r\n                    id={item.id}\r\n                    nombre={item.nombre}\r\n                    precio={item.precio}\r\n                    cantidad={item.cantidad}\r\n                    total={item.precio * item.cantidad}\r\n                  />\r\n                );\r\n              })}              </div>\r\n    \r\n              <form className=\"carrito\">\r\n              <input placeholder=\"nombre\" onChange={getBuyer} className=\"formu\" requiered></input>\r\n              <input placeholder=\"apellido\" onChange={getBuyer} className=\"formu\" requiered></input>\r\n              <input placeholder=\"cellPhone\" onChange={getBuyer} className=\"formu\" requiered></input>\r\n              </form>\r\n              \r\n              \r\n              \r\n              {!buyer.name || !buyer.surname || !buyer.phone ? (\r\n                <button onClick={() => sendBuy(pedidos)} disabled>\r\n                  Finalizar compra\r\n                </button>\r\n              ) : (\r\n                <button onClick={() => sendBuy(pedidos)}>Finalizar compra</button>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <h1 id=\"title__cart\">El carro se encuentra vacío!</h1>\r\n              <li className=\"nav__links\">\r\n                <Link to=\"/Products\">ir a productos</Link>\r\n              </li>\r\n            </div>\r\n          )}\r\n        </>\r\n      );\r\n    }\r\n\r\nexport default ItemCartAside;\r\n"]},"metadata":{},"sourceType":"module"}